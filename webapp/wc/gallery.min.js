"use strict";{class e extends HTMLElement{constructor(){super();const e=this;if("P"===e.parentNode.nodeName){let t=e.parentNode;e.parentNode.parentNode.insertBefore(e,t),t.remove()}e.flexImage=document.createElement("webui-flex"),e.flexName=document.createElement("webui-flex"),e.cards=document.createElement("webui-cards")}static get observedAttributes(){return["src"]}attributeChangedCallback(e,t,a){t!==a&&(null==a?delete this[e]:this[e]=a)}async loadGallery(){let e=await fetch("/gallery.json");if(!e.ok)return;let t=await e.json();if(!t.length)return;let a=this;a.parentNode.insertBefore(a.flexImage,a),a.parentNode.insertBefore(a.flexName,a),a.parentNode.insertBefore(a.cards,a),a.currentImage=t[0],a.flexImage.setAttribute("justify","center"),a.flexImage.setAttribute("align","center"),a.flexImage.setAttribute("column","true"),a.flexImage.classList.add("pa-2"),a.flexImage.style.height="calc(0.8 * var(--main-height))";let r=document.createElement("img");r.setAttribute("data-subscribe","page-image"),r.setAttribute("data-set","src"),a.flexImage.appendChild(r),a.flexName.setAttribute("justify","center"),a.flexName.classList.add("pa-1","ma-1");let n=document.createElement("p");a.flexName.appendChild(n),n.setAttribute("data-subscribe","page-image-name"),n.setAttribute("data-set","innerHTML"),a.cards.classList.add("mb-5");let l=document.createElement("webui-card");t.forEach(e=>{let t=l.cloneNode(!1);a.cards.appendChild(t),t.setAttribute("title",e.name);let r=document.createElement("webui-avatar");t.appendChild(r),t.style.cursor="pointer",r.setAttribute("src",e.src),r.style.fontSize="4em",t.addEventListener("click",t=>{webuiSetData("page-image",e.src),webuiSetData("page-image-name",e.name)})}),webuiSetData("page-image",a.currentImage.src),webuiSetData("page-image-name",a.currentImage.name)}connectedCallback(){this.loadGallery()}disconnectedCallback(){}}customElements.define("app-gallery",e)}